
# íŠ¸ìœ„í„° í´ë¡ <img src="https://github.com/chldudqlsdl/Twitter-Clone/assets/83645833/8f1f4b8b-e8c6-47b4-a181-8f455f8b32b2" align=left width=120>

> SNS íŠ¸ìœ„í„° ì•± í´ë¡ ì½”ë”© í”„ë¡œì íŠ¸ ğŸ¦  
> 1ì¸ ê°œë°œ (24.04.11 ~ 24.04.28)

<br />

## âœ¨ ê¸°ëŠ¥ ë° êµ¬í˜„ì‚¬í•­
<img src="https://github.com/chldudqlsdl/Twitter-Clone/assets/83645833/908a38fc-a75c-4e4c-a5d7-8c360a5acc92" >

**0. ì•„í‚¤í…ì³ ë° ì£¼ìš”ê¸°ìˆ ** 
  - MVVM ì•„í‚¤í…ì³ë¥¼ í™œìš©í•´ View âˆ™ ViewModel ì˜ ì—­í•  êµ¬ë¶„
 - Firebase ë¥¼ í™œìš©í•œ ì„œë²„í†µì‹  ë° ì¸ì¦(ë¡œê·¸ì¸ âˆ™ íšŒì›ê°€ì…)

**1. ë¡œê·¸ì¸ âˆ™ íšŒì›ê°€ì…** (ì´ë¯¸ì§€ 1)
  - **FirebaseAuth ë¥¼ í™œìš©í•´ ë¡œê·¸ì¸ âˆ™ íšŒì›ê°€ì… êµ¬í˜„**
  - FirebaseAuth ë‚´ë¶€ì—ì„  ë¡œê·¸ì¸ì‹œ ì¸ì¦ì •ë³´ë¥¼ Keychain ì— ì €ì¥í•¨
  - ë©”ì¸ë·°ì—ì„œ Keychain ì €ì¥ ì •ë³´ í™•ì¸ í›„ ì¸ì¦ì •ë³´ê°€ ìˆìœ¼ë©´ ë©”ì¸ë·° ê·¸ëŒ€ë¡œ í‘œì¶œ
  - ì¸ì¦ì •ë³´ê°€ ì—†ìœ¼ë©´ ë¡œê·¸ì¸ í™”ë©´ present

**2. ë©”ì¸íƒ­(í”¼ë“œ)** (ì´ë¯¸ì§€ 2 âˆ™ 3 âˆ™ 4)
  - **ì‚¬ìš©ìì˜ ëª¨ë“  íŠ¸ìœ—ì„ ë¶ˆëŸ¬ì™€ í”¼ë“œì—(ì»¬ë ‰ì…˜ë·°) í‘œì¶œ**
  - í”¼ë“œëŠ” refreshControl ì„ ì´ìš©í•´ ìƒˆë¡œê³ ì¹¨
 -  ë‹¤ë¥¸ ì‚¬ëŒì˜ íŠ¸ìœ—ì— ëŒ“ê¸€ ì‘ì„± ê¸°ëŠ¥
  - í”„ë¡œí•„ë·° - ì‚¬ìš©ìì˜ í”„ë¡œí•„ âˆ™ ì‘ì„±í•œ íŠ¸ìœ—ì„ í‘œì¶œ, íŒ”ë¡œìš° ê¸°ëŠ¥
  - íŠ¸ìœ— ìƒì„¸ ë·° - ì¢‹ì•„ìš” ìˆ˜ âˆ™ ì‘ì„±ëœ ëŒ“ê¸€ í‘œì¶œ

**3. íŠ¸ìœ— ì—…ë¡œë“œ ë·°** (ì´ë¯¸ì§€ 5)
 - **íŠ¸ìœ— âˆ™ ëŒ“ê¸€ ì—…ë¡œë“œ ê¸°ëŠ¥**
 - ë·°ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì—´ê±°í˜•ì„ ë°›ì•„ tweet âˆ™ reply ì—¬ë¶€ì— ë”°ë¼ í•˜ë‚˜ì˜ ë·°ì—ì„œ ë‹¤ë¥¸ UIì™€ ë©”ì„œë“œ ì‚¬ìš©

**4. ìœ ì € íƒìƒ‰ íƒ­** (ì´ë¯¸ì§€ 6)
 - **íŠ¸ìœ„í„°ë¥¼ ì‚¬ìš©ì¤‘ì¸ ëª¨ë“  ìœ ì € ê²€ìƒ‰ ê¸°ëŠ¥**
- UISearchController âˆ™ UISearchResultsUpdating ë¥¼ ì‚¬ìš©í•´ êµ¬í˜„

**5. ì•Œë¦¼ íƒ­** (ì´ë¯¸ì§€ 7)
 - **ë‚˜ë¥¼ íŒ”ë¡œìš°í•˜ê±°ë‚˜ íŠ¸ìœ—ì— ì¢‹ì•„ìš” âˆ™ ëŒ“ê¸€ì„ ë‚¨ê¸¸ ì‹œ ì•Œë¦¼ì´ ë„ì°©**
- ëˆ„êµ°ê°€ë¥¼ íŒ”ë¡œìš°í•˜ê±°ë‚˜, íŠ¸ìœ—ì— ì¢‹ì•„ìš” âˆ™ ëŒ“ê¸€ì„ ë‚¨ê¸¸ ì‹œ DBì˜ notifications í…Œì´ë¸”ì— ì´ë¥¼ ì €ì¥
- firebase ì˜ `.observe(.childAdded)` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€ í›„ ì•Œë¦¼ í‘œì¶œ



<br />


## ğŸ¤” ê°œë°œê³¼ì •ì˜ ê³ ë¯¼

<details>
<summary><strong style="font-size: 1.2em;">ê³ ë¯¼í•œ ì </strong></summary>

## ìˆœí™˜ì°¸ì¡°ë¥¼ í†µí•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ì‹¤í—˜ì„ í†µí•´ ëˆˆìœ¼ë¡œ í™•ì¸

**[ì‹¤í—˜ì˜ìƒë§í¬(Youtube)](https://youtu.be/3YWHEmkB2C0?si=6q0Q1wwKUlTxYHmC&t=1m44s)**

**ì»¤ìŠ¤í…€ ë¸ë¦¬ê²Œì´íŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ì„œ ìˆœí™˜ì°¸ì¡°ê°€ ì¼ì–´ë‚˜ëŠ” ìƒí™©ì´ ë°œìƒ**

`ProfileController` í´ë˜ìŠ¤ê°€ ì°¸ì¡°í•˜ëŠ” ì»¬ë ‰ì…˜ë·°ì˜ í—¤ë”ë¡œ `ProfileHeader` ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ í• ë‹¹ë˜ë©´ì„œ ì°¸ì¡°ê°€ ë°œìƒí•œë‹¤. ì´ì–´ì„œ `ProfileHeader` ì˜ delegate ë¡œ `ProfileController(self)` ê°€ í• ë‹¹ë˜ë©´ì„œ ë‹¤ì‹œ ì°¸ì¡°ê°€ ë°œìƒí•œë‹¤.  
ì´ëŠ” ì„œë¡œ ê°•í•˜ê²Œ ì°¸ì¡°í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ìˆœí™˜ì°¸ì¡°ê°€ ë°œìƒí•˜ëŠ” ìƒí™©ì´ë©° ì´ê²ƒì´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ì•¼ê¸°í•œë‹¤

```swift
// ProfileController
extension ProfileController {
    override func collectionView(_ collectionView: UICollectionView, viewForSupplementaryElementOfKind kind: String, at indexPath: IndexPath) -> UICollectionReusableView {
        let header = collectionView.dequeueReusableSupplementaryView(ofKind: kind, withReuseIdentifier: headerIdentifier, for: indexPath) as! ProfileHeader
        header.user = user
        header.delegate = self
        return header
    }
}
// ProfileHeader
class ProfileHeader: UICollectionReusableView {
    var delegate: ProfileHeaderDelegate?
    // weak var delegate: ProfileHeaderDelegate?
    // ... [í›„ëµ] ...
}
```

 **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ì‹¤í—˜ì„ í†µí•´ ê·¸ë˜í”„ë¡œ í™•ì¸í•˜ê¸°**

ìˆœí™˜ì°¸ì¡°ë¥¼ ë°©ì§€í•˜ëŠ” ê²ƒì€ `weak var delegate` ê³¼ ê°™ì´ ì•½í•˜ê²Œ ì°¸ì¡°í•˜ê²Œ ë³€ê²½í•˜ë©´ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë‚˜ì•„ê°€ ì‹¤ì œë¡œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•  ê²½ìš° ë©”ëª¨ë¦¬ ê·¸ë˜í”„ê°€ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì•˜ë‹¤. 

`weak` ë¥¼ ì¨ì¤€ ê²½ìš°ì™€ ì•ˆ ì¨ì¤€ ê²½ìš° ê°ê° ì—´ë²ˆì”© `ProfileController` ë·°ë¥¼ ì—´ê³  ë‹«ì€ í›„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ë¹„êµí•´ë³¸ ëª¨ìŠµì´ë‹¤. `weak` ë¥¼ ì¨ì£¼ì§€ ì•Šì€ ê²½ìš° ë°˜ëŒ€ì˜ ê²½ìš°ë³´ë‹¤ 4MB ì˜ ë©”ëª¨ë¦¬ê°€ ë” ì‚¬ìš©ë˜ê³  ìˆìŒì„ í™•ì¸í•˜ì˜€ë‹¤.

ì»¤ìŠ¤í…€ ë¸ë¦¬ê²Œì´íŠ¸ íŒ¨í„´ ì‚¬ìš©ì˜ ê²½ìš°ë‚˜, í´ë¡œì €ê°€ self ë¥¼ ìº¡ì²˜í•˜ëŠ” ê²½ìš° ê¸°ê³„ì ìœ¼ë¡œ weak ë¥¼ ì¨ì¤„ ë•Œê°€ ë§ì•˜ì§€ë§Œ, ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ìƒí™©ì„ ì‹¤í—˜í•˜ë©´ì„œ ì¤‘ìš”ì„±ì„ ì ˆê°í•˜ê²Œ ë˜ì—ˆë‹¤.

<img width="250" src="https://github.com/chldudqlsdl/Twitter-Clone/assets/83645833/59298d38-ed09-47ba-8a04-b124e3e71222">

<img width="250" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-06-22 á„‹á…©á„’á…® 4 31 19" src="https://github.com/chldudqlsdl/Twitter-Clone/assets/83645833/ba36dab7-67ba-4d68-bf61-ab245bbbb44e">



## ì»¤ìŠ¤í…€ ì•¡ì…˜ì‹œíŠ¸ ë§Œë“¤ê¸°

<img width="200" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-06-22 á„‹á…©á„’á…® 6 00 35" src="https://github.com/chldudqlsdl/Twitter-Clone/assets/83645833/d32537ff-d5bb-434f-b90c-83e337dbf2c9">

<br>
<br>

 **UIAlertController ì™€ ìµœëŒ€í•œ ìœ ì‚¬í•˜ê²Œ êµ¬í˜„í•˜ê¸°**

UIAlertController ì™€ ê°™ì´ ë„¤ë¹„ê²Œì´ì…˜ë°”ë‚˜ íƒ­ë°” ìœ„ë¥¼ ë®ì–´ì•¼ í•˜ê³ , ë’·ë°°ê²½ì´ íë ¤ì ¸ì•¼ í•œë‹¤. ê¸°ì¡´ì˜ ViewController ë¥¼ present í•˜ê±°ë‚˜, navigationController ì—ì„œ pushViewController í•˜ëŠ” ë°©ì‹ìœ¼ë¡œëŠ” êµ¬í˜„ë¶ˆê°€

**ë·°ì˜ ê³„ì¸µêµ¬ì¡°**

ë°°ê²½ì˜ ë·°ë¥¼ ê·¸ëŒ€ë¡œ ì‚´ë¦¬ë©´ì„œ ì•ë‹¨ì— ì•¡ì…˜ì‹œíŠ¸ë¥¼ ì¶”ê°€í•˜ë ¤ë©´ ë·° ê³„ì¸µêµ¬ì¡°ì˜ ë£¨íŠ¸ ì»¨í…Œì´ë„ˆì¸ UIWindow ì— ë·°ë¥¼ ì¶”ê°€í•˜ì—¬ì•¼ í•œë‹¤. ë·° ê³„ì¸µêµ¬ì¡°ëŠ” ë„“ê²Œ ë³´ë©´ UIScreen - UIWindowScene - UIWindow ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ë°, UIWindowScene ì„ í†µí•´ì„œ UIWindow ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. `isKeyWindow` ì†ì„±ì€ í˜„ì¬ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ëŠ” UIWindow ë¥¼ ì˜ë¯¸í•˜ê¸°ì— í•´ë‹¹ ì†ì„±ì´ true ì¸ UIWindow ì— ì ‘ê·¼í•˜ì—¬ ì›í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

```swift
// ActionSheetLauncher
func show() {
    guard let windowScene = UIApplication.shared.connectedScenes.first as? UIWindowScene else { return }
    guard let window = windowScene.windows.first(where: { $0.isKeyWindow }) else { return }
    
    window.addSubview(blackView)
    blackView.frame = window.frame
    
    window.addSubview(tableView)
    tableView.frame = CGRect(x: 0, y: window.frame.height, width: window.frame.width, height: actionSheetHeight)
    
    UIView.animate(withDuration: 0.5) {
        self.blackView.alpha = 1
        self.tableView.frame.origin.y -= self.actionSheetHeight
    }
}
```

</details>

<details>
<summary><strong style="font-size: 1.2em;">í•™ìŠµí•œ ì </strong></summary>

## ì»¤ìŠ¤í…€ ë¸ë¦¬ê²Œì´íŠ¸ íŒ¨í„´

### ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°„ì˜ ì†Œí†µì„ í†µí•´ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ í•  ë•Œ, ì»¤ìŠ¤í…€ ë¸ë¦¬ê²Œì´íŠ¸ íŒ¨í„´ ì‚¬ìš©

```swift
// FeedController
extension FeedController {
    override func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {
        let cell = collectionView.dequeueReusableCell(withReuseIdentifier: reuseIdentifier, for: indexPath) as! TweetCell
        cell.delegate = self
        return cell
    }
}
extension FeedController: TweetCellDelegate {
    func handleProfileImageTapped(_ cell: TweetCell) {
        let vc = ProfileController(user: user)
        navigationController?.pushViewController(vc, animated: true)
    }
}

// TweetCell
protocol TweetCellDelegate: AnyObject {
    func handleProfileImageTapped(_ cell: TweetCell)
}
class TweetCell : UICollectionViewCell {
    weak var delegate: TweetCellDelegate?
    
    @objc func handleProfileImageTapped() {
        delegate?.handleProfileImageTapped(self)
    }
}
```

## Enum ì„ í™œìš©í•´ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œ ì‘ì„±í•˜ê¸°

<img width="200" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-06-22 á„‹á…©á„’á…® 9 53 22" src="https://github.com/chldudqlsdl/Twitter-Clone/assets/83645833/90386eac-98a7-4467-854d-369e22ba531f">
<img width="200" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-06-22 á„‹á…©á„’á…® 9 53 40" src="https://github.com/chldudqlsdl/Twitter-Clone/assets/83645833/36a5e429-0bbf-41f9-ad55-16af0ad5df88">

ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ íŠ¸ìœ—ì„ ì‘ì„±í•˜ëŠ” ë·°ì™€ ë‹¤ë¥¸ ì‚¬ëŒì˜ íŠ¸ìœ—ì— ëŒ€í•´ ëŒ“ê¸€ì„ ì‘ì„±í•œ ë·°ëŠ” ë§¤ìš° ìœ ì‚¬í•˜ë‹¤. ë·°ë¥¼ ë”°ë¡œ ë§Œë“¤ì§€ ì•Šê³ , í•˜ë‚˜ì˜ ë·°ì— ë§¤ê°œë³€ìˆ˜ë¡œ tweet ê³¼ reply ì¼€ì´ìŠ¤ë¥¼ ê°€ì§€ëŠ” Enum ì„ í• ë‹¹í•˜ì—¬ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë·°ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤. 

reply ì¼€ì´ìŠ¤ëŠ” ì—°ê´€ê°’ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ ì–´ë–¤ tweet ì— ëŒ€í•œ reply ì¸ì§€ë„ êµ¬ë¶„í•˜ë„ë¡ í•˜ì˜€ë‹¤. ì‘ì„±ëœ ê¸€ì„ ì—…ë¡œë“œí•˜ëŠ” ë©”ì„œë“œì—ì„œë„ ì¼€ì´ìŠ¤ ë³„ë¡œ ë‹¤ë¥¸ ì½”ë“œë¥¼ ì‘ì„±í•´ì£¼ì—ˆë‹¤.

```swift
// UploadTweetViewModel
enum UploadTweetConfiguration {
    case tweet
    case reply(Tweet)
}

class UploadTweetViewModel {
    let actionButtonTitle: String
    init(config: UploadTweetConfiguration) {
        switch config {
        case .tweet:
            actionButtonTitle = "Tweet"
        case .reply(let tweet):
            actionButtonTitle = "Reply"
        }
    }
}

// uploadTweetController
class UploadTweetController: UIViewController {
    private let config: UploadTweetConfiguration
    private lazy var viewModel = UploadTweetViewModel(config: config)
    
    @objc func handleUploadTweet() {
        TweetService.shared.uploadTweet(caption: caption, type: config) 
    }
}

// TweetService
struct TweetService {
    func uploadTweet(caption: String, type: UploadTweetConfiguration, completion: @escaping ( Error?, DatabaseReference) -> Void) {       
        switch type {
        case .tweet:
            REF_TWEETS.childByAutoId().updateChildValues(values) { err, ref in
                REF_USER_TWEETS.child(uid).updateChildValues([tweetID: 1], withCompletionBlock: completion)
            }
        case .reply(let tweet):
            REF_TWEET_REPLIES.child(tweet.tweetID).childByAutoId().updateChildValues(values, withCompletionBlock: completion)
        }
    }
}
```

</details>

<details>
<summary><strong style="font-size: 1.2em;">ì „ì²´ ê°œë°œì¼ì§€ ë³´ê¸°</strong></summary>

<br />
  
**[ì „ì²´ ê°œë°œ ì¼ì§€ ë§í¬(Notion)](https://slowsteadybrown.notion.site/Twitter-iOS-Clone-5d7e0d87ea594045a448c9f636283782?pvs=4)**
  
</details>

<br />

## ğŸ“š Architecture âˆ™ Framework âˆ™ Library

| Category| Name | Tag |
| ---| --- | --- |
| Architecture| MVVM |  |
| Framework| UIKit | UI |
|Library | Firebase | DB âˆ™ Authentication |
| | SnapKit | Layout |
| | Kingfisher | Image Caching |

<br />

## ğŸ—‚ í´ë” êµ¬ì¡°
~~~
ğŸ“¦ TwitterTutorial
 â”£ ğŸ“‚App
 â”£ ğŸ“‚Network
 â”£ ğŸ“‚Model
 â”£ ğŸ“‚Presentation
 â”ƒ â”£ ğŸ“‚AuthenticationScene
 â”ƒ â”£ ğŸ“‚MainTabBarScene
 â”ƒ â”£ ğŸ“‚FeedScene
 â”ƒ â”£ ğŸ“‚UploadTweetScene
 â”ƒ â”£ ğŸ“‚ProfileScene
 â”ƒ â”£ ğŸ“‚TweetScene
 â”ƒ â”£ ğŸ“‚ExploreScene
 â”ƒ â”£ ğŸ“‚NotificationScene
 â”ƒ â”£ ğŸ“‚ConversationScene
 â”ƒ â”— ğŸ“‚Common
 â”— ğŸ“‚Utility
~~~

<br />

## ğŸ“º ì•± êµ¬ë™ í™”ë©´ 
|ë¡œê·¸ì¸ âˆ™ íšŒì›ê°€ì… ë·°|ë©”ì¸ íƒ­|íŠ¸ìœ— ì—…ë¡œë“œ ë·°|ìœ ì € íƒìƒ‰ íƒ­|ì•Œë¦¼ íƒ­|
|-|-|-|-|-|
|<img width="180" src="https://github.com/chldudqlsdl/ODindi/assets/83645833/ce54e955-4b91-4c8d-9e98-78feb91d4bae">|<img width="180" src="https://github.com/chldudqlsdl/ODindi/assets/83645833/7aafa33b-6249-4931-a922-086e87816e6f">|<img width="180" src="https://github.com/chldudqlsdl/ODindi/assets/83645833/45486562-e6c1-42db-bf18-3d19cababcb5">|<img width="180" src="https://github.com/chldudqlsdl/ODindi/assets/83645833/e4c8b61f-ecc0-4c6f-9ce7-51f39197b308">|<img width="180" src="https://github.com/chldudqlsdl/ODindi/assets/83645833/525a2c96-d117-4522-b2f6-cee401af29f3">|




